# 整体介绍

## 功能定义

在自动驾驶、机器人导航等领域，​​PNC​​ 通常指 ​​Planning and Control（规划与控制）​​，即：

+ ​​规划（Planning）​​：生成从起点到目标点的可行路径（如使用A*、RRT*等算法）。
+ ​控制（Control）​​：通过控制器（如PID、MPC）跟踪规划路径，确保系统稳定执行。

目前PNC在整个自动驾驶系统中主要负责基于上游感知，地图也预测的输入实时规划出一条安全且符合导航任务的运动轨迹交由下游控制模块执行

PNC内部按照功能和层级可以分成 **行为规划** 和 **运动规划**

+ 行为规划决定自车是保持当前车道还是进行变道或者借道动作以及确定合适的障碍物横纵向决策
+ 运动规划则基于具体的行为和决策产生合理的规划轨迹

本质上PNC对不同驾驶场景采取不同的策略，而场景定义的要素主要包括: 路口（通行方向）/ 非路口、车道保持/变道/借道等不同维度，组合成状态机中的不同子状态，通过不同状态的跳转和对应状态下的细分的障碍物避让超车决策和轨迹规划，最终完成 PNC 模块的整体职能

单纯的自顶向下的状态机很难维护，且很难规避上下游的不一致性。当前PNC框架引入仲裁机制，通过针对当前状态可跳转的目标状态集合中每个状态进行单独计算，并基于不同状态下的决策和规划结果进行最终的评估和状态跳转。这种方式实现了上游决策和下游规划的反馈机制，兼顾效率和完备性

也就是一方面维护状态机，而状态机之间的切换由仲裁器进行决策

