# GNSS残差的构建

残差 = 实际观测值 - 预测观测值

在松组合中，GNSS接收机自己完成定位解算，输出一个“位置解”。融合滤波器将这个位置解与基于IMU预测的位置进行比较。

实际观测值：GNSS接收机输出的位置、速度。

预测观测值：INS（惯性导航系统）根据前一时刻状态和IMU数据推算出的当前位置、速度。

残差向量：$z_{loose}=[p_gnss−p_{ins}, v_{gnss}−v_{ins}]$

其中：
+ $p_{gnss},v_{gnss}$是GNSS接收机给出的位置和速度。
+ $p_{ins},v_{ins}$是INS推算出的位置和速度。

特点：
+ 简单直观：直接在位置/速度域做差。
+ 模型简单：预测模型就是惯性力学模型，观测模型是单位矩阵。
+ 依赖于GNSS独立解：GNSS必须能输出有效解（至少4颗星），在卫星数不足时失效。