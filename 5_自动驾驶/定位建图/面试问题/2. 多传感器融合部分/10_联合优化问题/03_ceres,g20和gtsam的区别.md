# ceres, g2o 和 gtsam 的区别

## ceres solver

通用非线性最小二乘优化库

特点：

+ 自动求导：支持数值求导、自动求导，用户只需定义残差块，无需手动推导雅可比矩阵。
+ 适用性强：适用于任何可表示为最小二乘的问题，不局限于 SLAM
+ 鲁棒核函数：内置多种鲁棒核函数（Huber、Cauchy 等），便于处理异常值。
+ 灵活性：支持稠密与稀疏问题，提供多种求解器（如 Levenberg-Marquardt、Dogleg 等）。

缺点：

+ 不提供 SLAM 专用的数据结构（如位姿、点），需要用户自己定义。
+ 在 SLAM 领域的某些高级特性（如增量求解、边缘化）支持较弱。

使用场景：Bundle Adjustment（BA）、大规模三维重建、SLAM 后端的通用最小二乘求解（如 ORB-SLAM 的 BA 环节）。

## g2o

基于图优化的通用框架，专为 SLAM 和图优化问题设计。

特点：

+ 图优化模型：将优化问题建模为图（顶点=优化变量， 边=约束）
+ 模块化设计：用户可以自定义顶点和边的类型，但需要手动推导雅可比矩阵，轻量化易使用

缺点：

+ 通用性差，仅适用于图优化场景，无法处理非图结构的最小二乘问题；
+ 需要手动计算雅可比矩阵，增加实现难度

## gtsam

因子图 + 领域算法封装：将 SLAM 的约束抽象为因子（Factor）（对应 g2o 的边），并封装了大量 SLAM 专用因子
概率型优化：支持贝叶斯推理，能处理带不确定性的传感器数据融合（如 IMU 的噪声传递）；

支持自动求导，开发效率高。
