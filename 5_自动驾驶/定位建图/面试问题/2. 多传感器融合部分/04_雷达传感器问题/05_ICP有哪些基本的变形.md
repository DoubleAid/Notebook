# ICP的基本变形

## 基于误差计算方式的变形

这类变形的核心是改变"源点与目标点的误差度量"，从简单的点到点距离，升级为更贴合点云几何特征的误差模型，提升配准鲁棒性。

1. 点到面 ICP（Point-to-Plane ICP）
2. 点到线 ICP（Point-to-Line ICP）

## 基于点对匹配策略的变形（提升鲁棒性）

这类变形的核心是优化 “源点与目标点的匹配规则”，避免经典 ICP“最近邻 = 最优匹配” 的局限性，减少异常点干扰。

1. 广义 ICP（Generalized ICP, GICP）

核心改进是考虑点云的局部几何分布（协方差），将 “点到点的欧式距离” 升级为 “马氏距离”，给不同几何结构的点分配不同权重。

算法逻辑：

+ 对源点和目标点的邻域分别计算协方差矩阵，描述点的空间分布；
+ 用马氏距离度量两点的匹配误差（马氏距离能消除不同维度的尺度差异）；
+ 最小化总马氏距离误差，求解变换矩阵。

2. 正态分布 ICP（Normal Distributions ICP, NICP）

将每个点及其邻域建模为三维正态分布，误差项定义为两个正态分布的 KL 散度（衡量分布的相似度）。

无需显式拟合平面 / 直线，直接利用点的统计分布特征；对稀疏点云（如固态激光雷达点云）适配性好，配准精度高。

## 基于效率的优化变形（提升实时性）

这类变形的核心是通过降采样、加速搜索等方式，降低算法计算复杂度，满足车载、机器人等实时场景需求。

1. 快速 ICP（Fast ICP）
    + 对源点云和目标点云进行体素降采样，减少参与匹配的点数量；
    + 用k-d 树 /ik-d 树加速最近邻搜索（经典 ICP 是暴力搜索，时间复杂度高）；
    + 采用早期终止策略（当迭代误差变化小于阈值时，提前停止迭代）。

2. 稀疏 ICP（Sparse ICP）
    + 仅提取源点云和目标点云的特征点（如角点、边缘点） 进行匹配，而非全部点。
    + 特征点数量远少于原始点云，计算量大幅降低；结合特征的几何不变性，鲁棒性也优于经典 ICP；常与 LOAM、LeGO-LOAM 等算法结合使用。
