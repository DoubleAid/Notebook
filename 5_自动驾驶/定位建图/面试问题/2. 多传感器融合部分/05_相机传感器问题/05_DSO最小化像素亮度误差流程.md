# DSO最小化像素亮度误差流程

## 步骤 1：初始化参考帧与稀疏深度图

1. 在参考帧中选取高梯度像素（边缘、角点区域，灰度变化明显，亮度误差更可靠），剔除低纹理区域像素；
2. 对选取的像素，通过随机深度初始化（假设深度范围，如 $d_{min}\sim d_{max}$）生成初始稀疏深度图；
3. 记录参考帧中这些像素的灰度值（$x_r$ 为参考帧像素坐标）。

## 步骤 2：当前帧像素投影与灰度采样

根据当前帧的初始位姿估计（第一帧为单位矩阵，后续帧由前一帧位姿迭代得到），将参考帧像素投影到当前帧

## 步骤 3：构建光度误差模型

DSO 的核心亮度误差定义为参考帧灰度值与当前帧灰度值的差值，并加入光度校准项（补偿光照变化），误差公式为：

$r = I_r(x_r) - \alpha \cdot I_c(x_c) - \beta$

+ r：单个像素的亮度残差；
+ $\alpha$：增益因子（补偿光照强度变化，全局或局部优化）；
+ $\beta$：偏移因子（补偿光照偏移变化，全局或局部优化）。
