# 时间同步的目的和常见方法

## 一、时间同步的目的

核心是让多传感器（如 IMU、相机、激光雷达、GPS）的数据在同一时间基准下对齐，确保融合时使用 “同一时刻” 的传感器观测，避免时间偏差导致的运动估计误差（如姿态漂移、位置偏差），保障 SLAM / 自动驾驶系统的精度和稳定性。

## 二、常见方法（面试重点，分场景说明）

### 硬件同步（高精度优先）

原理：通过硬件信号（如 PPS 脉冲、触发信号）统一触发多传感器采集，或共享同一时钟源（如 GPS 授时、FPGA 时钟）。

场景：激光雷达 + IMU、相机 + IMU 融合（需微秒级同步）。

例子：GPS 输出 1PPS 脉冲，同步激光雷达和 IMU 的采集时刻；相机外触发接口接收 IMU 的同步信号。

### 软件同步（低成本通用）

原理：基于传感器数据的时间戳，通过算法插值 / 匹配对齐数据。

常见方式：

+ 插值法（线性 / 非线性）：根据相邻帧数据，插值生成目标时刻的传感器数据（如 IMU 数据插值到相机帧时刻）；
+ 最近邻匹配：选择与目标时刻最接近的传感器数据（适用于低频率传感器，如 GPS）；
+ 时间戳校准：通过标定消除传感器内部时钟偏差（如相机和 IMU 的时间偏移）。
+ 场景：多传感器无硬件同步接口（如手机相机 + IMU、激光雷达 + GPS）。

### 协议同步（标准化方案）

原理：通过标准化协议传输时间信息，实现跨设备时钟同步。

例子：NTP（网络时间协议，毫秒级）、PTP（精确时间协议，微秒级）、ROS2 的 Clock 接口（支持多传感器时间戳对齐）。

场景：分布式系统（如自动驾驶车端与云端数据同步、多机器人协作）。
