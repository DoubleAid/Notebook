---

贝叶斯滤波（Bayesian Filtering） 是一种基于概率理论的递归算法，用于在存在不确定性的动态系统中估计不可直接观测的状态变量。其核心思想是通过贝叶斯定理，结合系统模型（预测）和传感器观测（更新），不断修正对当前状态的置信度。以下是其关键要点：

---

**一、核心思想**
• 不确定性建模：用概率分布描述系统状态（如位置、速度）的不确定性。

• 递归更新：每收到一次新观测，就重新计算状态的后验概率，无需存储历史数据。

• 两步循环：

  1. 预测：根据系统动力学模型，从上一时刻状态推断当前状态的先验概率。
  2. 更新：融合新观测数据，将先验概率修正为后验概率。

---

**二、数学模型**
**1. 系统方程**
• 状态方程：描述状态如何随时间演变  

  \( x_t = f(x_{t-1}, u_t, w_t) \)  
  （\( x_t \): 当前状态，\( u_t \): 控制输入，\( w_t \): 过程噪声）
  
• 观测方程：描述状态如何生成观测

  \( z_t = h(x_t, v_t) \)  
  （\( z_t \): 当前观测，\( v_t \): 观测噪声）

**2. 贝叶斯定理**
• 目标：求后验概率 \( P(x_t | z_{1:t}) \)

• 递推公式：  

  \( P(x_t | z_{1:t}) \propto P(z_t | x_t) \cdot \int P(x_t | x_{t-1}) \cdot P(x_{t-1} | z_{1:t-1}) \, dx_{t-1} \)

---

**三、典型应用场景**
1. 机器人定位（SLAM）：在未知环境中同时估计自身位置和地图。
2. 自动驾驶状态估计：融合摄像头、雷达、IMU数据，跟踪车辆位置和速度。
3. 金融预测：基于历史数据预测股票价格波动。
4. 目标跟踪：雷达或摄像头中追踪运动物体的轨迹。

---

**四、常见变体**
| 滤波算法       | 适用场景                          | 特点                              |
|---------------------|---------------------------------------|---------------------------------------|
| 卡尔曼滤波 (KF) | 线性高斯系统                          | 最优闭式解，计算高效                 |
| 扩展卡尔曼滤波 (EKF) | 弱非线性系统                  | 对非线性模型一阶泰勒展开近似         |
| 无迹卡尔曼滤波 (UKF) | 非高斯系统                  | 通过Sigma点传播概率分布，精度更高    |
| 粒子滤波 (PF)   | 非线性非高斯系统                      | 用大量粒子近似分布，计算量大但灵活   |

---

**五、以自动驾驶为例的分步说明**
1. 预测阶段（位置估计）：  
   • 假设车辆上一时刻位置为 \( x_{t-1} \)，速度为 \( v \)。  

   • 根据运动模型预测当前位置：  

     \( x_t^{pred} = x_{t-1} + v \cdot \Delta t + \text{噪声} \)  
   • 生成先验概率分布（如高斯分布）。


2. 更新阶段（融合GPS数据）：  
   • 收到GPS观测 \( z_t \)，其精度受信号噪声影响。  

   • 计算似然概率 \( P(z_t | x_t) \)，即GPS观测与预测位置的匹配程度。  

   • 将先验与似然相乘，归一化得到后验分布，即修正后的位置置信度。


---

**六、优缺点分析**
• 优点：  

  ✅ 显式处理传感器噪声和模型误差。  
  ✅ 可融合多源异构数据（雷达、摄像头等）。  
  ✅ 适用于动态系统的实时估计。

• 缺点：  

  ❌ 计算复杂度高（尤其粒子滤波）。  
  ❌ 依赖准确的系统模型和噪声统计特性。  
  ❌ 高维状态空间易导致“维度灾难”。

---

**七、关键公式总结**
• 预测：  

  \( P(x_t | z_{1:t-1}) = \int P(x_t | x_{t-1}) P(x_{t-1} | z_{1:t-1}) \, dx_{t-1} \)
  
• 更新：  

  \( P(x_t | z_{1:t}) = \frac{P(z_t | x_t) P(x_t | z_{1:t-1})}{P(z_t | z_{1:t-1})} \)

---

**八、总结**
贝叶斯滤波是动态系统状态估计的概率框架基石，通过“预测-更新”循环逐步逼近真实状态。在自动驾驶和机器人领域，它为实现鲁棒的定位与感知提供了数学基础，尤其在传感器融合和多源不确定性处理中不可或缺。