# 特征点优化

## RANSAC 随机抽样一致算法

https://zhuanlan.zhihu.com/p/402727549

### RANSAC 理论介绍

普通的最小二乘是保守派：在现有的数据下，如何实现最优。是从一个整体误差最小的角度去考虑，尽量谁也不得罪

RANSAC是改革派：首先假设数据具有某种特性（目的），为了达到目的，适当割舍一些现有的数据。

![](/5_自动驾驶/images/RANSAC拟合结果.png)

可以看到RANSAC可以很好的拟合。RANSAC可以理解为一种采样的方式，对于多项式拟合，混合高斯模型（GMM）等理论都是适用的

传统方法是利用尽可能多的数据来获得一个比较原始的解，然后尝试使用一些优化算法来消除 无效的数据点。对于RANSAC则是使用一个比较小的数据集，然后再尽可能的使用一致的数据来扩大原来初始化的数据集

### RANSAC 思路

#### 第一步： 假设模型（如直线方程）， 并随机抽取 Nums 个样本点（以2个样本点为例），对模型进行拟合

#### 第二步：由于数据不是严格线性，数据点都是有波动性，假设容差发范围为 sigma，找出距离拟合曲线容差范围内的点，并统计点的个数

#### 第三步：重新随机选取Nums个点，重复第一步和第二步的操作，直到结束迭代

#### 第四步：每一次拟合之后，容差范围内都有对应的数据点数，找出数据点个数最多的情况，就是最终的拟合结果

这个是RANSAC的简化版，只是给定迭代次数，迭代结果里找出最优解。如果样本个数非常多的情况，因此要注意下面几个问题

+ 每一次随机样本数Nums的选取：如二次曲线最少需要3个点确定，一般来说，Nums少一些易得出较优结果
+ 抽样迭代次数Iter的选取：即重复多少次抽取，就认为是符合要求从而停止运算？太多计算量大，太少性能可能不够理想；
+ 容差Sigma的选取： sigma 取大取小，对最终结果影响较大

