# UDS 

统一诊断服务（Unified Diagnostic Services，简称UDS）是车用电子的通信协议，是电子控制器（ECU）中设备诊断用的网络传输协议，对应的标准是ISO 14229-1。此标准是派生自ISO 14230-3（KWP2000）以及目前已不使用的ISO 15765-3 （控制器局域网上的诊断通信）。“统一诊断服务”中的“统一”是指此标准是国际性标准，不是特定公司的专用标准。目前所有一阶供应商新生产的ECU都已支持此通信协议，也已集成到其他标准中，例如AUTOSAR。

现今的车辆有配合离线诊断的诊断接口，让电脑或是诊断工具（作为测试设备）可以连接到汽车上的通信系统。因此可以发送统一诊断服务的请求到控制器，控制器须回复（可能是正面或是负面的回复），这样可以确认个别控制单元中的故障存储器、更新控制单元的固件、和硬件进行低端的交互（例如开启或关闭特定的输出）、或是进行特定的机能，目的是了了解电子控制器的环境或是操作条件，以诊断故障或是不希望出现的行为。

诊断工具可以连接车上所有支持统一诊断服务功能的电子控制器。车上常用的控制器局域网只用到OSI模型的第一层及第二层，而统一诊断服务集成了OSI模型的第五层及第七层。服务标识符（Service ID、SID）及服务相关的参数都放在8个字节的消息框内。

## DoIP

DoIP（互联网协议诊断）是ISO 13400-2 标准中指定的 汽车电子通信协议。

DoIP 用作统一诊断服务(UDS ISO 14229-1 [1] ) 的传输协议。UDS 位于OSI 第7 层，应用层。基于 Internet 协议的诊断在TCP/IP协议栈上运行。OSI 第 4 层上的 TCP/UDP 用作传输协议。IP 在 OSI 第 3 层上用作交换协议。以太网是在OSI 第 2 层上的 数据链路层上使用的协议。

与使用传输协议ISO-TP (ISO 15765-2) 的CAN进行诊断相比，其明显优势是更高的总数据速率。

## 报文结构

